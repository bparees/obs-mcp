name: Lightspeed Core Service (LCS)
service:
  host: 0.0.0.0
  port: 8080
  auth_enabled: false
  workers: 1
  color_log: true
  access_log: true
llama_stack:
  use_as_library_client: true
  library_client_config_path: ./run.yaml
user_data_collection:
  feedback_enabled: true
  feedback_storage: "/tmp/data/feedback"
  transcripts_enabled: true
  transcripts_storage: "/tmp/data/transcripts"
authentication:
  module: "noop"
inference:
  default_model: gpt-4o-mini
  default_provider: openai
mcp_servers:
  - name: "obs"
    provider_id: "model-context-protocol"
    url: http://${env.LOCALHOST:=localhost}:9100/mcp
  - name: kube-mcp-server
    url: http://${env.LOCALHOST:=localhost}:8081/mcp
    # timeout: 120
    # sse_read_timeout: 60
  - name: next-gen-ui
    url: http://${env.LOCALHOST:=localhost}:9200/mcp
    # timeout: 120
    # sse_read_timeout: 60

customization:
  # This system prompt shows how instruct the model to proactivelly involve NGUI and generate correct args for "generate_ui_component" tool.
  # Once LSC will be able to pass data from one tool to another we will not need to instruct model to generate "data" arguments.
  
  # This is "Fast mode" prompt without "carefull thinking". It simply performs tool calls based on user query.
  system_prompt: |-
    You are Genie, an AI assistant to help users to get all information about the connected Openshift cluster and its metrics.

    Follow these STEPS:
      1. Try to detect the intent of the user query and call appropriate tools to get the data.
      2. Based on the data received from tool calls and user intent, decide if you need to generate a UI component.
         Be proactive in generating UI components to enhance user experience and ALWAYS use the tool "generate_ui_component" to generate UI.
      3. To call tool "generate_ui_component" pass these arguments:
         - data: must be exactly same data received from the tool call. Do not modify anything, just copy data as is.
         - data_type: must be exactly same as tool call name.
      4. If the tool "generate_ui_component" is successfully called, do not generate component in your final text response.
      5. If the tool "generate_ui_component" is not successfull, provide the final answer to the user in markdown format.
